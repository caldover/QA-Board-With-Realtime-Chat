#! /usr/bin/env node

var createHash = require('./browserify')
var argv = process.argv.slice(2)

function pipe (algorithm, s) {
  var start = Date.now()
  var hash = createHash(algorithm || 'sha1')

  s.on('data', function (data) {
    hash.update(data)
  })

  s.on('end', function () {
    if (process.env.DEBUG) {
      return console.log(hash.digest('hex'), Date.now() - start)
    }

    console.log(hash.digest('hex'))
  })
}

function usage () {
  console.error('sha.js [algorithm=sha1] [filename] # hash 